---
## Front matter
lang: ru-RU
title: Лабораторная работа №3
subtitle: "Измерение и тестирование пропускной способности сети. Воспроизводимый эксперимент"
author:
  - Барабанова Кристина
institute:
  - Российский университет дружбы народов, Москва, Россия

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true

header-includes:
  - \usepackage{fontspec}
  - \setmainfont{DejaVu Serif}
  - \setsansfont{DejaVu Sans}
  - \setmonofont{DejaVu Sans Mono}
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  Барабанова Кристина, студент группы НФИбд-02-22

:::
::::::::::::::

## Цель работы

Основной целью работы является знакомство с инструментом для измерения
пропускной способности сети в режиме реального времени — iPerf3, а также получение навыков проведения воспроизводимого эксперимента по измерению пропускной способности моделируемой сети в среде Mininet.



## Задание

1. Воспроизвести посредством API Mininet эксперименты по измерению пропускной способности с помощью iPerf3.
2. Построить графики по проведённому эксперименту.

# Выполнение лабораторной работы

## 

С помощью API Mininet создайте простейшую топологию сети, состоящую
из двух хостов и коммутатора с назначенной по умолчанию mininet сетью
10.0.0.0/8:
– В каталоге /work/lab_iperf3 для работы над проектом создайте подкаталог lab_iperf3_topo и скопируйте в него файл с примером скрипта
mininet/examples/emptynet.py, описывающего стандартную простую
топологию сети mininet:

![рис. 1](images/1.png){#fig:001 width=60%}

## 

– Изучила содержание скрипта lab_iperf3_topo.py:

![рис. 2](images/2.png){#fig:002 width=60%}

## 

– Запустила скрипт создания топологии lab_iperf3_topo.py:

![рис. 3](images/3.png){#fig:003 width=60%}


## 

– После отработки скрипта посмотрела элементы топологии и завершите
работу mininet:

![рис. 4](images/4.png){#fig:004 width=60%}

## 

Внесите в скрипт lab_iperf3_topo.py изменение, позволяющее вывести
на экран информацию о хосте h1, а именно имя хоста, его IP-адрес, MACадрес. Для этого после строки, задающей старт работы сети, добавьте строку:

![рис. 5](images/5.png){#fig:005 width=60%}

Здесь:
– IP() возвращает IP-адрес хоста или определенного интерфейса;
– MAC() возвращает MAC-адрес хоста или определенного интерфейса.

## 

Проверьте корректность отработки изменённого скрипта.


![рис. 6](images/6.png){#fig:006 width=60%}

## 

Измените скрипт lab_iperf3_topo.py так, чтобы на экран выводилась информация об имени, IP-адресе и MAC-адресе обоих хостов сети. Проверьте
корректность отработки изменённого скрипта.

![рис. 7](images/7.png){#fig:007 width=40%}

![рис. 8](images/8.png){#fig:008 width=40%}

## 

Mininet предоставляет функции ограничения производительности и изоляции с помощью классов CPULimitedHost и TCLink. Добавьте в скрипт
настройки параметров производительности:
– Сделайте копию скрипта lab_iperf3_topo.py:

![рис. 9](images/9.png){#fig:009 width=60%}


## 

– В начале скрипта lab_iperf3_topo2.py добавьте записи об импорте
классов CPULimitedHost и TCLink

![рис. 10](images/10.png){#fig:010 width=60%}



## 

В скрипте lab_iperf3_topo2.py измените строку описания сети, указав
на использование ограничения производительности и изоляции

 В скрипте lab_iperf3_topo2.py измените функцию задания параметров виртуального хоста h1, указав, что ему будет выделено 50% от общих
ресурсов процессора системы:

Аналогичным образом для хоста h2 задайте долю выделения ресурсов
процессора в 45%.

В скрипте lab_iperf3_topo2.py измените функцию параметров соединения между хостом h1 и коммутатором s3

![рис. 11](images/11.png){#fig:011 width=50%}

## 

– Запустите на отработку сначала скрипт lab_iperf3_topo2.py, затем
lab_iperf3_topo.py и сравните результат.

![рис. 12](images/12.png){#fig:012 width=60%}

## 

Постройте графики по проводимому эксперименту:
– Сделайте копию скрипта lab_iperf3_topo2.py и поместите его в подкаталог iperf:

![рис. 13](images/13.png){#fig:013 width=60%}


## 

– Измените код в скрипте lab_iperf3.py так, чтобы:
– на хостах не было ограничения по использованию ресурсов процессора;
– каналы между хостами и коммутатором были по 100 Мбит/с с задержкой 75 мс, без потерь, без использования ограничителей пропускной
способности и максимального размера очереди.
– После функции старта сети опишите запуск на хосте h2 сервера iPerf3,
а на хосте h1 запуск с задержкой в 10 секунд клиента iPerf3 с экспортом
результатов в JSON-файл, закомментируйте строки, отвечающие за запуск
CLI-интерфейса:

![рис. 14](images/14.png){#fig:014 width=50%}

## 

Запустите на отработку скрипт lab_iperf3.py:

![рис. 15](images/15.png){#fig:015 width=60%}


## 

Постройте графики из получившегося JSON-файла:
 
![рис. 16](images/16.png){#fig:016 width=60%}


## 

Создайте Makefile для проведения всего эксперимента:

В Makefile пропишите запуск скрипта эксперимента, построение графиков и очистку каталога от результатов:
 
![рис. 17](images/17.png){#fig:017 width=60%}


## 

Проверьте корректность отработки Makefile:

![рис. 18](images/18.png){#fig:018 width=60%}



## Вывод

Я познакомилась с инструментом для измерения пропускной способности сети в режиме реального времени — iPerf3, а также получила навыки проведения воспроизводимого эксперимента по измерению пропускной способности моделируемой сети в среде Mininet.
 


