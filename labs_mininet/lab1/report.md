---
## Front matter
title: "Лабораторная работа №__"
subtitle: "Введение в Mininet"
author: "Барабанова Кристина"

## Generic options
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true
toc-depth: 2
lof: true
lot: false
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt

## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
    - spelling=modern
    - babelshorthands=true
polyglossia-otherlangs:
  name: english

## I18n babel
babel-lang: russian
babel-otherlangs: english

## Fonts
mainfont: DejaVu Serif
sansfont: DejaVu Sans
monofont: DejaVu Sans Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9

## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric

## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"

## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float}
  - \floatplacement{figure}{H}
---

# Цель работы

Основной целью работы является развёртывание в системе виртуализации
(например, в VirtualBox) mininet, знакомство с основными командами для работы с Mininet через командную строку и через графический интерфейс.


# Выполнение лабораторной работы

## 1. Настройка стенда виртуальной машины Mininet

## Подключение к виртуальной машине

Залогинилась в виртуальной машине
Посмотрела адрес машины:

![рис. 1](images/1.png){#fig:001 width=70%}


Подключилась к виртуальной машине (из терминала хостовой машины)

![рис. 2](images/2.png){#fig:002 width=70%}


Отключила ssh-соединение с виртуальной машиной

![рис. 3](images/3.png){#fig:003 width=70%}


Настроила ssh-подсоединение по ключу к виртуальной машине

![рис. 4](images/4.png){#fig:004 width=70%}


Вновь подключилась к виртуальной машине и убедилась, что подсоединение
происходит успешно и без ввода пароля.

![рис. 5](images/5.png){#fig:005 width=70%}


## Настройка доступа к Интернет

Активировала второй интерфейс

![рис. 6](images/6.png){#fig:006 width=70%}


Для удобства дальнейшей работы установила mc

![рис. 7](images/7.png){#fig:007 width=70%}


Для удобства дальнейшей работы добавьте для mininet указание на использование двух адаптеров при запуске. 


![рис. 8](images/8.png){#fig:008 width=70%}



## Обновление версии Mininet


Скачала новую версию Mininet

![рис. 9](images/9.png){#fig:009 width=70%}


Обновила исполняемые файлы и проверила номер установленной версии mininet

![рис. 10](images/10.png){#fig:010 width=70%}


## Настройка параметров XTerm

По умолчанию XTerm использует растровые шрифты малого кегля. Для увеличения размера шрифта и применения векторных шрифтов вместо растровых
необходимо внести изменения в файл /etc/X11/app-defaults/XTerm. Для
этого можно воспользоваться следующей командой:
1 sudo mcedit /etc/X11/app-defaults/XTerm
и затем в конце файла добавить строки

![рис. 11](images/11.png){#fig:011 width=70%}

Здесь выбран системный моноширинный шрифт, кегль шрифта — 12 пунктов.


## Настройка соединения X11 для суперпользователя

При попытке запуска приложения из-под суперпользователя возникает ошибка:
X11 connection rejected because of wrong authentication.
Ошибка возникает из-за того, что X-соединение выполняется от имени пользователя mininet, а приложение запускается от имени пользователя root
с использованием sudo. Для исправления этой ситуации необходимо заполнить файл полномочий /root/.Xauthority, используя утилиту xauth.
Скопировала значение куки (MIT magic cookie)1 пользователя mininet в файл
для пользователя root:

![рис. 12](images/12.png){#fig:012 width=70%}


## Работа с Mininet из-под Windows

Установка программного обеспечения.

Установила putty:

![рис. 13](images/13.png){#fig:013 width=70%}

Установила VcXsrv Windows X Server

![рис. 14](images/14.png){#fig:014 width=70%}




## 2. Основы работы в Mininet

## Работа с Mininet с помощью командной строки


Запустила Mininet с минимальной топологией, состоящей из
коммутатора, подключённого к двум хостам

![рис. 15](images/15.png){#fig:015 width=70%}


Для отображения списка команд интерфейса командной строки Mininet
и примеров их использования ввела команду в интерфейсе командной
строки Mininet

![рис. 16](images/16.png){#fig:016 width=70%}


Для отображения доступных узлов ввела:

![рис. 17](images/17.png){#fig:017 width=70%}

Вывод этой команды показывает, что есть два хоста (хост h1 и хост h2)
и коммутатор (s1).


Ввела команду net в интерфейсе командной
строки Mininet, чтобы просмотреть доступные линки:

![рис. 18](images/18.png){#fig:018 width=70%}

Вывод этой команды показывает:
– Хост h1 подключён через свой сетевой интерфейс h1-eth0 к коммутатору на интерфейсе s1-eth1.
– Хост h2 подключён через свой сетевой интерфейс h2-eth0 к коммутатору на интерфейсе s1-eth2.
– Коммутатор s1:
– имеет петлевой интерфейс lo.
– подключается к h1-eth0 через интерфейс s1-eth1.
– подключается к h2-eth0 через интерфейс s1-eth2.


Посмотрела конфигурацию всех узлов

![рис. 19](images/19.png){#fig:019 width=70%}


По умолчанию узлам h1 и h2 назначаются IP-адреса 10.0.0.1/8 и
10.0.0.2/8 соответственно. Чтобы проверить связь между ними, использовала команду ping. Команда ping работает, отправляя сообщения
эхо-запроса протокола управляющих сообщений Интернета (ICMP) на удалённый компьютер и ожидая ответа.
Например, проверила соединение между хостами h1 и h2

![рис. 20](images/20.png){#fig:020 width=70%}


---

## 3. Построение и эмуляция сети в Mininet с использованием графического интерфейса


В терминале виртуальной машины mininet запустила MiniEdit:

![рис. 21](images/21.png){#fig:021 width=70%}

Добавила два хоста и один коммутатор, соединила хосты с коммутатором

Настроила IP-адреса на хостах h1 и h2. Для хоста h1 указала IP-адрес
10.0.0.1/8, а для хоста h2 — 10.0.0.2/8.

![рис. 22](images/22.png){#fig:022 width=70%}
![рис. 23](images/23.png){#fig:023 width=70%}


Перед проверкой соединения между хостом h1 и хостом h2 необходимо
запустить эмуляцию. Для запуска эмуляции нажала кнопку Run. После
начала эмуляции кнопки панели MiniEdit стали серыми, указывая на то,
что в настоящее время они отключены.

– Открыла терминал на хосте h1.
– Открыла терминал на хосте h2.
– На терминале хоста h1 ввела команду ifconfig, чтобы отобразить назначенные ему IP-адреса. Интерфейс h1-eth0 на хосте h1 должен быть
настроен с IP-адресом 10.0.0.1 и маской подсети 255.0.0.0.
– Повторила эти действия на хосте h2. Его интерфейс h2-eth0 должен быть
настроен с IP-адресом 10.0.0.2 и маской подсети 255.0.0.0.

![рис. 24](images/24.png){#fig:024 width=70%}
![рис. 25](images/25.png){#fig:025 width=70%}


Проверила соединение между хостами, введя в терминале хоста h1 команду
ping 10.0.0.2. 

![рис. 26](images/26.png){#fig:026 width=70%}


Ранее IP-адреса узлам h1 и h2 были назначены вручную. В качестве альтернативы можно полагаться на Mininet для автоматического назначения
IP-адресов.
– Удалила назначенный вручную IP-адрес с хостов h1 и h2.
– В MiniEdit нажала Edit Preferences . По умолчанию в поле базовые значения IP-адресов (IP Base) установлено 10.0.0.0/8. Измените это значение
на 15.0.0.0/8.
– Запустила эмуляцию, нажав кнопку Run.
– Проверила IP-адреса хостов h1 и h2.

![рис. 27](images/27.png){#fig:027 width=70%}
![рис. 28](images/28.png){#fig:028 width=70%}


В домашнем каталоге виртуальной машины mininet создала каталог для
работы с проектами mininet:

![рис. 29](images/29.png){#fig:029 width=70%}


После сохранения проекта поменяла права доступа к файлам в каталоге
проекта:

![рис. 30](images/30.png){#fig:030 width=70%}

---


## 5. Выводы

Я осуществила развёртывание в системе виртуализации mininet, познакомилась с основными командами для работы с Mininet через командную строку и через графический интерфейс.

---


